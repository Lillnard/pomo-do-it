<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FocusFlow â€¢ Pomodoro</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app" id="appRoot">
    <!-- TOP BAR -->
    <header class="topbar">
      <div class="brand">
        <div class="logo">ğŸ…</div>
        <div class="brand-text">
          <div class="brand-name">Pomo do it!</div>
          <div class="brand-sub" id="brandSub">Pomodoro inteligente para estudos</div>
        </div>
      </div>

      <div class="top-actions">
        <button class="chip" id="langToggle" title="Idioma">
          <span class="chip-ico">ğŸŒ</span>
          <span class="chip-text" id="langLabel">PT</span>
        </button>

        <button class="chip" id="themeToggle" title="Tema">
          <span class="chip-ico" id="themeIcon">ğŸŒ™</span>
          <span class="chip-text" id="themeLabel">Dark</span>
        </button>

        <button class="chip" id="soundToggle" title="Som">
          <span class="chip-ico" id="soundIcon">ğŸ”Š</span>
          <span class="chip-text" id="soundLabel">On</span>
        </button>

        <button class="chip" id="notifyBtn" title="NotificaÃ§Ãµes">
          <span class="chip-ico">ğŸ””</span>
          <span class="chip-text" id="notifyLabel">Ativar</span>
        </button>

        <button class="chip" id="fullscreenBtn" title="Tela cheia">
          <span class="chip-ico">â›¶</span>
          <span class="chip-text" id="fsLabel">Full</span>
        </button>
      </div>
    </header>

    <!-- MAIN GRID -->
    <main class="grid">
      <!-- TIMER CARD -->
      <section class="card timer">
        <div class="card-head">
          <div>
            <h2 id="timerTitle">SessÃ£o</h2>
            <p class="muted" id="timerSubtitle">Planeje, foque e registre. Sem drama.</p>
          </div>
          <div class="badge" id="phaseBadge">FOCO</div>
        </div>

        <div class="timer-face">
          <div class="time" id="timeText">25:00</div>
          <div class="progress">
            <div class="progress-bar" id="progressBar"></div>
          </div>

          <div class="mini">
            <div class="mini-item">
              <div class="mini-k" id="miniCyclesK">Ciclos</div>
              <div class="mini-v"><span id="cycleNow">1</span>/<span id="cycleTotal">4</span></div>
            </div>
            <div class="mini-item">
              <div class="mini-k" id="miniFocusK">Meta</div>
              <div class="mini-v"><span id="goalPomos">4</span> ğŸ…</div>
            </div>
            <div class="mini-item">
              <div class="mini-k" id="miniDistrK">DistraÃ§Ãµes</div>
              <div class="mini-v"><span id="distractions">0</span></div>
            </div>
          </div>
        </div>

        <div class="controls">
          <button class="btn primary" id="startBtn">â–¶ Iniciar</button>
          <button class="btn" id="pauseBtn" disabled>â¸ Pausar</button>
          <button class="btn" id="skipBtn">â­ Pular</button>
          <button class="btn danger" id="resetBtn">â†º Reset</button>
        </div>

        <div class="row">
          <div class="field">
            <label id="presetLabel">Preset</label>
            <select id="presetSelect">
              <option value="classic">ClÃ¡ssico (25/5, longa 15)</option>
              <option value="deep">Deep Work (50/10, longa 20)</option>
              <option value="sprint">Sprint (15/3, longa 10)</option>
              <option value="custom">Personalizado</option>
            </select>
          </div>

          <div class="field">
            <label id="taskLinkLabel">Tarefa ativa</label>
            <select id="activeTaskSelect">
              <option value="">(Sem tarefa)</option>
            </select>
          </div>
        </div>

        <div class="row three">
          <div class="field">
            <label id="focusLabel">Foco (min)</label>
            <input type="number" id="focusMin" min="5" max="120" value="25" />
          </div>
          <div class="field">
            <label id="breakLabel">Pausa (min)</label>
            <input type="number" id="breakMin" min="1" max="60" value="5" />
          </div>
          <div class="field">
            <label id="longLabel">Longa (min)</label>
            <input type="number" id="longMin" min="5" max="60" value="15" />
          </div>
        </div>

        <div class="row three">
          <div class="field">
            <label id="cyclesLabel">Ciclos</label>
            <input type="number" id="cyclesCount" min="1" max="12" value="4" />
          </div>
          <div class="field">
            <label id="goalLabel">Meta ğŸ…</label>
            <input type="number" id="goalCount" min="1" max="24" value="4" />
          </div>
          <div class="field">
            <label id="autoLabel">Auto</label>
            <button class="btn tiny" id="autoToggle">
              <span id="autoState">On</span>
            </button>
          </div>
        </div>

        <div class="row">
          <div class="field grow">
            <label id="sessionIntentLabel">Plano da sessÃ£o (1 frase)</label>
            <input type="text" id="sessionIntent" placeholder="Ex: Revisar funÃ§Ãµes e resolver 10 exercÃ­cios" maxlength="80" />
          </div>
          <button class="btn" id="saveSessionBtn" title="Salvar plano">ğŸ’¾</button>
        </div>
      </section>

      <!-- TASKS CARD -->
      <section class="card tasks">
        <div class="card-head">
          <div>
            <h2 id="tasksTitle">Tarefas</h2>
            <p class="muted" id="tasksSubtitle">Cada tarefa pede um certo nÃºmero de ğŸ….</p>
          </div>
          <div class="pill" id="tasksCountPill">0</div>
        </div>

        <div class="task-add">
          <input type="text" id="taskName" placeholder="Nova tarefa (ex: MatemÃ¡tica, capÃ­tulo 3)" maxlength="60" />
          <input type="number" id="taskEst" min="1" max="24" value="3" title="Pomodoros estimados" />
          <button class="btn primary" id="addTaskBtn">+ Adicionar</button>
        </div>

        <div class="list" id="taskList" aria-label="Lista de tarefas"></div>

        <div class="tasks-foot">
          <button class="btn" id="clearDoneBtn">ğŸ§¹ Limpar concluÃ­das</button>
          <button class="btn" id="seedBtn" title="Exemplo rÃ¡pido">âœ¨ Exemplo</button>
        </div>
      </section>

      <!-- INSIGHTS CARD (tabs) -->
      <section class="card insights">
        <div class="card-head">
          <div>
            <h2 id="insightsTitle">Painel</h2>
            <p class="muted" id="insightsSubtitle">Seu foco, virando dados e memÃ³ria.</p>
          </div>

          <div class="tabs" role="tablist">
            <button class="tab active" data-tab="stats" id="tabStats">Stats</button>
            <button class="tab" data-tab="notes" id="tabNotes">Notas</button>
            <button class="tab" data-tab="history" id="tabHistory">HistÃ³rico</button>
          </div>
        </div>

        <!-- STATS -->
        <div class="tabpane active" id="pane-stats" role="tabpanel">
          <div class="stats-grid">
            <div class="stat">
              <div class="stat-k" id="stFocusTodayK">Foco hoje</div>
              <div class="stat-v"><span id="focusToday">0</span> min</div>
            </div>
            <div class="stat">
              <div class="stat-k" id="stPomosTodayK">ğŸ… hoje</div>
              <div class="stat-v"><span id="pomosToday">0</span></div>
            </div>
            <div class="stat">
              <div class="stat-k" id="stStreakK">Streak</div>
              <div class="stat-v"><span id="streak">0</span> ğŸ”¥</div>
            </div>
            <div class="stat">
              <div class="stat-k" id="stBestHourK">Melhor hora</div>
              <div class="stat-v"><span id="bestHour">--</span></div>
            </div>
          </div>

          <div class="chart">
            <div class="chart-head">
              <div class="chart-title" id="chartTitle">Ãšltimos 7 dias (ğŸ…)</div>
              <div class="chart-legend muted" id="chartLegend">barra = pomodoros concluÃ­dos</div>
            </div>
            <div class="bars" id="bars7"></div>
          </div>

          <div class="panel-actions">
            <button class="btn" id="exportCsvBtn">â¬‡ Exportar CSV</button>
            <button class="btn" id="printReportBtn">ğŸ–¨ RelatÃ³rio (PDF)</button>
            <button class="btn danger" id="resetAllBtn">ğŸ—‘ Reset geral</button>
          </div>
        </div>

        <!-- NOTES -->
        <div class="tabpane" id="pane-notes" role="tabpanel">
          <div class="note-box">
            <div class="note-top">
              <div class="note-title" id="noteTitle">Nota rÃ¡pida</div>
              <div class="muted" id="noteHint">No fim de cada foco, registre 1 insight. Aqui vocÃª pode anotar tambÃ©m.</div>
            </div>
            <textarea id="noteText" placeholder="Ex: Entendi como aplicar a fÃ³rmula..."></textarea>
            <div class="note-actions">
              <button class="btn primary" id="saveNoteBtn">ğŸ’¾ Salvar nota</button>
              <button class="btn" id="clearNoteBtn">ğŸ§½ Limpar</button>
            </div>
          </div>

          <div class="list" id="notesList" aria-label="Lista de notas"></div>
        </div>

        <!-- HISTORY -->
        <div class="tabpane" id="pane-history" role="tabpanel">
          <div class="history-head">
            <div class="muted" id="historyHint">Registros dos ciclos (foco/pausa) com tarefa, plano e tempo.</div>
            <button class="btn" id="clearHistoryBtn">ğŸ§¹ Limpar histÃ³rico</button>
          </div>
          <div class="list" id="historyList" aria-label="HistÃ³rico"></div>
        </div>
      </section>
    </main>

    <!-- TOAST -->
    <div class="toast" id="toast" aria-live="polite" aria-atomic="true"></div>

    <!-- PRINT AREA (hidden, used for PDF via print) -->
    <section class="print" id="printArea" aria-hidden="true"></section>
  </div>

  <script src="script.js"></script>
</body>
</html>